<%- include('partials/header', {title: 'BMI Calculator'}) %>

<div class="main-content">
    <div class="bmi-card">
        <h1 class="text-center">BMI Calculator</h1>
        
        <% if (typeof error !== 'undefined' && error) { %>
            <div class="alert alert-danger">
                <i class="fas fa-exclamation-circle"></i>
                <%= error %>
            </div>
        <% } %>

        <form action="/bmi/calculate" method="POST" class="bmi-form">
            <div class="form-group">
                <label for="weight">Weight (kg):</label>
                <input type="number" 
                       id="weight" 
                       name="weight" 
                       class="form-control" 
                       placeholder="Enter weight in kilograms"
                       min="20" 
                       max="500" 
                       step="0.1"
                       required
                       value="<%= typeof weight !== 'undefined' ? weight : '' %>">
                <small class="form-text text-muted">Enter your weight in kilograms (20-500 kg)</small>
            </div>

            <div class="form-group">
                <label for="height">Height (m):</label>
                <input type="number" 
                       id="height" 
                       name="height" 
                       class="form-control" 
                       placeholder="Enter height in meters"
                       min="0.5" 
                       max="3" 
                       step="0.01"
                       required
                       value="<%= typeof height !== 'undefined' ? height : '' %>">
                <small class="form-text text-muted">Enter your height in meters (0.5-3 m)</small>
            </div>

            <div class="form-group text-center">
                <button type="submit" class="btn">
                    <i class="fas fa-calculator"></i>
                    Calculate BMI
                </button>
            </div>
        </form>

        <% if (typeof bmi !== 'undefined' && bmi) { %>
            <div class="bmi-result">
                <h2 class="text-center">Your Results</h2>
                <p class="bmi-value">BMI: <%= bmi.toFixed(1) %></p>
                <p class="bmi-category <%= category.toLowerCase() %>">
                    Category: <%= category %>
                </p>
                <div class="bmi-info">
                    <p class="text-muted">BMI Categories:</p>
                    <ul>
                        <li>Underweight: < 18.5</li>
                        <li>Normal weight: 18.5 - 24.9</li>
                        <li>Overweight: 25 - 29.9</li>
                        <li>Obese: â‰¥ 30</li>
                    </ul>
                </div>
            </div>
        <% } %>
    </div>
</div>

<%- include('partials/footer') %>